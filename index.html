<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Presentaci√≥n D√≠a del Ni√±o 2025 - ONE CONTACT</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .slide {
            background: white;
            margin: 20px 0;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            animation: fadeIn 0.6s ease-in;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        h1 {
            color: #2c3e50;
            text-align: center;
            font-size: 2.5em;
            margin-bottom: 10px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        h2 {
            color: #34495e;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
            font-size: 1.8em;
        }
        
        h3 {
            color: #e67e22;
            font-size: 1.4em;
        }
        
        .chart-container {
            position: relative;
            height: 400px;
            margin: 20px 0;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .stat-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            transform: scale(1);
            transition: transform 0.3s ease;
        }
        
        .stat-card:hover {
            transform: scale(1.05);
        }
        
        .stat-number {
            font-size: 2.5em;
            font-weight: bold;
            display: block;
        }
        
        .stat-label {
            font-size: 1em;
            opacity: 0.9;
        }
        
        .ranking-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .ranking-table th {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px;
            text-align: left;
        }
        
        .ranking-table td {
            padding: 12px 15px;
            border-bottom: 1px solid #ddd;
        }
        
        .ranking-table tr:nth-child(even) {
            background-color: #f8f9fa;
        }
        
        .emoji {
            font-size: 1.5em;
        }
        
        .highlight {
            background: linear-gradient(45deg, #ff9a9e, #fad0c4);
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
            border-left: 5px solid #e74c3c;
        }
        
        .comments-box {
            background: #f8f9fa;
            border-left: 4px solid #3498db;
            padding: 15px;
            margin: 10px 0;
            border-radius: 5px;
        }
        
        .two-column {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            align-items: start;
        }
        
        .progress-bar {
            width: 100%;
            height: 20px;
            background: #ecf0f1;
            border-radius: 10px;
            overflow: hidden;
            margin: 10px 0;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea, #764ba2);
            border-radius: 10px;
            transition: width 2s ease;
        }
        
        .logo {
            text-align: center;
            margin-bottom: 20px;
        }
        
        .footer {
            text-align: center;
            padding: 20px;
            background: #2c3e50;
            color: white;
            margin-top: 30px;
            border-radius: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Slide 1: Portada -->
        <div class="slide">
            <div class="logo">
                <div style="text-align: center; margin-bottom: 30px;">
    <img src="logo-onecontact.png" alt="ONE CONTACT - Grupo Migesa" 
         style="max-width: 250px; height: auto; margin-bottom: 20px;" />
</div>
<h1>Resultados Celebraci√≥n D√≠a del Ni√±o 2025</h1>
                <h2>Resultados Celebraci√≥n D√≠a del Ni√±o 2025</h2>
                <p style="text-align: center; font-size: 1.2em; color: #7f8c8d;">
                    An√°lisis Nacional de Satisfacci√≥n y Bienestar Familiar
                </p>
            </div>
        </div>

        <!-- Slide 2: Resumen Ejecutivo -->
        <div class="slide">
            <h2>üéØ Resumen Ejecutivo Nacional</h2>
            <div class="stats-grid">
                <div class="stat-card">
                    <span class="stat-number">70</span>
                    <span class="stat-label">Colaboradores Participantes</span>
                </div>
                <div class="stat-card">
                    <span class="stat-number">4.60/5</span>
                    <span class="stat-label">Satisfacci√≥n Promedio</span>
                </div>
                <div class="stat-card">
                    <span class="stat-number">100%</span>
                    <span class="stat-label">Fortalece V√≠nculo Familiar</span>
                </div>
                <div class="stat-card">
                    <span class="stat-number">4</span>
                    <span class="stat-label">Sedes Participantes</span>
                </div>
            </div>
            
            <div class="highlight">
                <strong>üèÜ Logro Destacado:</strong> 100% de calificaciones positivas (solo 4-5 estrellas) en todas las sedes a nivel nacional.
            </div>
        </div>

        <!-- Slide 3: Satisfacci√≥n por Sede -->
        <div class="slide">
            <h2>üìà Satisfacci√≥n por Sede</h2>
            <div class="chart-container">
                <canvas id="satisfaccionPorSede"></canvas>
            </div>
            
            <table class="ranking-table">
                <thead>
                    <tr>
                        <th>Ranking</th>
                        <th>Sede</th>
                        <th>Participantes</th>
                        <th>Satisfacci√≥n</th>
                        <th>5 ‚≠ê</th>
                        <th>4 ‚≠ê</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>ü•á</td>
                        <td><strong>Urab√°</strong></td>
                        <td>15</td>
                        <td><strong>4.67/5</strong></td>
                        <td>66.7%</td>
                        <td>33.3%</td>
                    </tr>
                    <tr>
                        <td>ü•à</td>
                        <td><strong>Bogot√°</strong></td>
                        <td>19</td>
                        <td><strong>4.58/5</strong></td>
                        <td>57.9%</td>
                        <td>42.1%</td>
                    </tr>
                    <tr>
                        <td>ü•â</td>
                        <td><strong>Medell√≠n</strong></td>
                        <td>16</td>
                        <td><strong>4.56/5</strong></td>
                        <td>56.3%</td>
                        <td>43.8%</td>
                    </tr>
                    <tr>
                        <td>‚≠ê</td>
                        <td><strong>Barranquilla</strong></td>
                        <td>4</td>
                        <td><strong>5.00/5</strong></td>
                        <td>100%</td>
                        <td>0%</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Slide 4: Distribuci√≥n Nacional -->
        <div class="slide">
            <h2>üìä Distribuci√≥n Nacional de Calificaciones</h2>
            <div class="two-column">
                <div>
                    <div class="chart-container">
                        <canvas id="distribucionNacional"></canvas>
                    </div>
                </div>
                <div>
                    <h3>An√°lisis de Resultados</h3>
                    <div class="comments-box">
                        <strong>‚úÖ 5 Estrellas (Excelente):</strong><br>
                        42 personas (60.0%)
                    </div>
                    <div class="comments-box">
                        <strong>‚úÖ 4 Estrellas (Muy Bueno):</strong><br>
                        28 personas (40.0%)
                    </div>
                    <div class="comments-box">
                        <strong>‚ùå 3 Estrellas o menos:</strong><br>
                        0 personas (0.0%)
                    </div>
                    
                    <div class="highlight">
                        <strong>Conclusi√≥n:</strong> 100% de satisfacci√≥n positiva a nivel nacional
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 5: Participaci√≥n por Sede -->
        <div class="slide">
            <h2>üè¢ Participaci√≥n por Sede</h2>
            <div class="chart-container">
                <canvas id="participacionPorSede"></canvas>
            </div>
            
            <h3>Distribuci√≥n Porcentual</h3>
            <div class="stats-grid">
                <div class="stat-card">
                    <span class="stat-number">27.1%</span>
                    <span class="stat-label">Bogot√° (19 participantes)</span>
                </div>
                <div class="stat-card">
                    <span class="stat-number">22.9%</span>
                    <span class="stat-label">Medell√≠n (16 participantes)</span>
                </div>
                <div class="stat-card">
                    <span class="stat-number">21.4%</span>
                    <span class="stat-label">Urab√° (15 participantes)</span>
                </div>
                <div class="stat-card">
                    <span class="stat-number">5.7%</span>
                    <span class="stat-label">Barranquilla (4 participantes)</span>
                </div>
            </div>
        </div>

        <!-- Slide 6: Impacto Organizacional -->
        <div class="slide">
            <h2>üéØ Impacto Organizacional</h2>
            <h3>Fortalecimiento V√≠nculo Empresa-Familia</h3>
            <div class="progress-bar">
                <div class="progress-fill" style="width: 100%"></div>
            </div>
            <p><strong>100% (70/70)</strong> considera que fortalece el v√≠nculo</p>
            
            <h3>Contribuci√≥n al Bienestar Laboral</h3>
            <div class="progress-bar">
                <div class="progress-fill" style="width: 100%"></div>
            </div>
            <p><strong>100% (70/70)</strong> afirma que contribuye al bienestar</p>
            
            <h3>Satisfacci√≥n Alta (4-5 estrellas)</h3>
            <div class="progress-bar">
                <div class="progress-fill" style="width: 100%"></div>
            </div>
            <p><strong>100% (70/70)</strong> calificaciones positivas</p>
            
            <div class="highlight">
                <strong>üéä Resultado Excepcional:</strong> Unanimidad total en el reconocimiento del valor de las actividades familiares.
            </div>
        </div>

        <!-- Slide 7: An√°lisis Presupuestal -->
        <div class="slide">
            <h2>üí∞ An√°lisis Presupuesto vs Participaci√≥n en Encuestas</h2>
            <div class="chart-container">
                <canvas id="presupuestoVsParticipacion"></canvas>
            </div>
            
            <div class="two-column">
                <div>
                    <h3>üìä Datos Presupuestales</h3>
                    <div class="stats-grid">
                        <div class="stat-card">
                            <span class="stat-number">91</span>
                            <span class="stat-label">Ni√±os Presupuestados</span>
                        </div>
                        <div class="stat-card">
                            <span class="stat-number">$637,000</span>
                            <span class="stat-label">Presupuesto Total</span>
                        </div>
                        <div class="stat-card">
                            <span class="stat-number">$7,000</span>
                            <span class="stat-label">Valor por Ni√±o</span>
                        </div>
                    </div>
                </div>
                <div>
                    <h3>üìà Participaci√≥n Real en Encuestas</h3>
                    <table class="ranking-table">
                        <thead>
                            <tr>
                                <th>Sede</th>
                                <th>Presupuestado</th>
                                <th>Encuesta</th>
                                <th>Dif.</th>
                                <th>%</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Urab√°</td>
                                <td>23</td>
                                <td>15</td>
                                <td>-8</td>
                                <td>65.2%</td>
                            </tr>
                            <tr>
                                <td>Bogot√°</td>
                                <td>31</td>
                                <td>19</td>
                                <td>-12</td>
                                <td>61.3%</td>
                            </tr>
                            <tr>
                                <td>Medell√≠n</td>
                                <td>29</td>
                                <td>16</td>
                                <td>-13</td>
                                <td>55.2%</td>
                            </tr>
                            <tr>
                                <td>Barranquilla</td>
                                <td>8</td>
                                <td>4</td>
                                <td>-4</td>
                                <td>50.0%</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            
            <div class="highlight">
                <strong>‚ö†Ô∏è Nota Importante:</strong> Los 54 participantes en encuestas pueden no representar el total de entregas reales. Es posible que se entregaran m√°s regalos de los que respondieron la encuesta.
            </div>
        </div>

        <!-- Slide 8: An√°lisis de Comentarios -->
        <div class="slide">
            <h2>üí¨ An√°lisis de Comentarios por Sede</h2>
            <div class="chart-container">
                <canvas id="comentariosPorSede"></canvas>
            </div>
            
            <h3>Temas Recurrentes Identificados</h3>
            <div class="stats-grid">
                <div class="stat-card">
                    <span class="stat-number">8</span>
                    <span class="stat-label">Integraci√≥n Familiar Presencial</span>
                </div>
                <div class="stat-card">
                    <span class="stat-number">5</span>
                    <span class="stat-label">Incluir a los Ni√±os</span>
                </div>
                <div class="stat-card">
                    <span class="stat-number">3</span>
                    <span class="stat-label">M√°s Actividades Similares</span>
                </div>
                <div class="stat-card">
                    <span class="stat-number">1</span>
                    <span class="stat-label">Mejorar Log√≠stica</span>
                </div>
            </div>
        <!-- Slide 8: An√°lisis de Comentarios -->
        <div class="slide">
            <h2>üí¨ An√°lisis Detallado de Comentarios por Sede</h2>
            <div class="chart-container">
                <canvas id="comentariosPorSede"></canvas>
            </div>
            
            <div class="two-column">
                <div>
                    <h3>üìù Comentarios por Sede</h3>
                    <div class="comments-box">
                        <strong>üîπ Bogot√° (6 comentarios - 31.6% feedback):</strong><br>
                        ‚Ä¢ "Mejorar organizaci√≥n en la entrega"<br>
                        ‚Ä¢ "Integraciones familiares" (√ó2)<br>
                        ‚Ä¢ "Poder incluir a los ni√±os"
                    </div>
                    <div class="comments-box">
                        <strong>üîπ Medell√≠n (5 comentarios - 31.3% feedback):</strong><br>
                        ‚Ä¢ "M√°s actividades de ese tipo"<br>
                        ‚Ä¢ "Integraci√≥n familiar en la sede" (√ó3)<br>
                        ‚Ä¢ "Traer los ni√±os a hacer la actividad"
                    </div>
                </div>
                <div>
                    <div class="comments-box">
                        <strong>üîπ Urab√° (6 comentarios - 40.0% feedback):</strong><br>
                        ‚Ä¢ "M√°s integraci√≥n" (√ó2)<br>
                        ‚Ä¢ "M√°s actividades as√≠"<br>
                        ‚Ä¢ "Incluir los hijos" (√ó2)<br>
                        ‚Ä¢ "Compartir estos espacios"
                    </div>
                    <div class="comments-box">
                        <strong>üîπ Barranquilla (1 comentario - 25.0% feedback):</strong><br>
                        ‚Ä¢ "Actividades m√°s din√°micas"
                    </div>
                </div>
            </div>
            
            <h3>üéØ Temas Recurrentes Identificados</h3>
            <div class="stats-grid">
                <div class="stat-card">
                    <span class="stat-number">8</span>
                    <span class="stat-label">Integraci√≥n Familiar Presencial</span>
                </div>
                <div class="stat-card">
                    <span class="stat-number">5</span>
                    <span class="stat-label">Incluir a los Ni√±os</span>
                </div>
                <div class="stat-card">
                    <span class="stat-number">3</span>
                    <span class="stat-label">M√°s Actividades Similares</span>
                </div>
                <div class="stat-card">
                    <span class="stat-number">2</span>
                    <span class="stat-label">Mejoras Log√≠sticas/Din√°micas</span>
                </div>
            </div>
            
            <div class="highlight">
                <strong>üéâ Mensaje Clave:</strong> Todas las sedes solicitan de manera consistente m√°s actividades de integraci√≥n familiar presencial. Urab√° lidera en participaci√≥n de feedback (40.0%).
            </div>
        </div>

        <!-- Slide 9: Pr√≥ximos Pasos -->
        <div class="slide">
            <h2>üöÄ Plan de Acci√≥n 2025-2026</h2>
            
            <h3>Fase 1: Mejoras Inmediatas (Junio 2025)</h3>
            <div class="comments-box">
                ‚Ä¢ Estandarizar proceso de entregas<br>
                ‚Ä¢ Dise√±ar protocolo de actividades familiares presenciales<br>
                ‚Ä¢ Crear calendario anual de celebraciones familiares
            </div>
            
            <h3>Fase 2: Expansi√≥n (Julio-Septiembre 2025)</h3>
            <div class="comments-box">
                ‚Ä¢ Programa "Familias ONE CONTACT"<br>
                ‚Ä¢ Actividades trimestrales con participaci√≥n de hijos<br>
                ‚Ä¢ Espacios de integraci√≥n familiar por sede
            </div>
            
            <h3>Fase 3: Consolidaci√≥n (Octubre-Diciembre 2025)</h3>
            <div class="comments-box">
                ‚Ä¢ Centro de Excelencia en Bienestar<br>
                ‚Ä¢ Medici√≥n de impacto en retenci√≥n laboral<br>
                ‚Ä¢ Programa estructurado de bienestar familiar
            </div>


        <!-- Slide 10: Conclusiones -->
        <div class="slide">
            <h2>üéâ Conclusiones Estrat√©gicas</h2>
            
            <div class="highlight">
                <h3>Logros Excepcionales</h3>
                <p>‚úÖ <strong>Satisfacci√≥n excepcional</strong> en todas las sedes (4.56+ promedio)<br>
                ‚úÖ <strong>Impacto familiar confirmado</strong> de manera un√°nime<br>
                ‚úÖ <strong>Cultura organizacional fortalecida</strong> a nivel nacional<br>
                ‚úÖ <strong>Base s√≥lida</strong> para programa estructurado de bienestar</p>
            </div>
            
            <div class="comments-box">
                <h3>üí° Mensaje Clave</h3>
                <em>"Los resultados del D√≠a del Ni√±o 2025 demuestran que ONE CONTACT ha construido una cultura organizacional que trasciende lo laboral. Con 70 colaboradores participantes, 100% de satisfacci√≥n positiva y un clamor un√°nime por m√°s integraci√≥n familiar, hemos confirmado que invertir en bienestar familiar es la estrategia correcta para el crecimiento sostenible de nuestra organizaci√≥n."</em>
            </div>
        </div>

<!-- GR√ÅFICA DE ROTACI√ìN POR SEDE -->
<div class="slide">
    <h2>üìâ An√°lisis de Rotaci√≥n por Sede</h2>
    <div class="chart-container">
        <canvas id="rotacionPorSede"></canvas>
    </div>
    
    <table class="ranking-table">
        <thead>
            <tr>
                <th>Sede</th>
                <th>Marzo</th>
                <th>Abril</th>
                <th>Mayo</th>
                <th>Tendencia</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td><strong>Barranquilla</strong></td>
                <td>13%</td>
                <td>5%</td>
                <td>13%</td>
                <td>Sin cambio</td>
            </tr>
            <tr>
                <td><strong>Bogot√°</strong></td>
                <td>18%</td>
                <td>8%</td>
                <td>5%</td>
                <td><span style="color: green;">‚Üì Mejora</span></td>
            </tr>
            <tr>
                <td><strong>Medell√≠n</strong></td>
                <td>9%</td>
                <td>13%</td>
                <td>6%</td>
                <td><span style="color: green;">‚Üì Mejora</span></td>
            </tr>
            <tr>
                <td><strong>Urab√°</strong></td>
                <td>20%</td>
                <td>13%</td>
                <td>5%</td>
                <td><span style="color: green;">‚Üì Mejora considerable</span></td>
            </tr>
        </tbody>
    </table>
    
    <div class="highlight">
        <strong>üîç Observaci√≥n clave:</strong> Todas las sedes excepto Barranquilla muestran una tendencia de mejora en el √≠ndice de rotaci√≥n, con Urab√° destac√°ndose por la reducci√≥n m√°s significativa (de 20% a 5%).
    </div>
</div>

<!-- GR√ÅFICA DE MOTIVOS DE RETIRO -->
<div class="slide">
    <h2>üîé An√°lisis de Motivos de Retiro - 2025</h2>
    
    <div class="filters-container">
        <div>
            <label>Filtrar por Ciudad:</label>
            <select id="filtroSede" class="filter-select" onchange="actualizarGraficaMotivos()">
                <option value="TODAS">Todas las ciudades</option>
                <option value="BOGOTA">Bogot√°</option>
                <option value="MEDELLIN">Medell√≠n</option>
                <option value="URABA">Urab√°</option>
                <option value="BARRANQUILLA">Barranquilla</option>
            </select>
        </div>
        
        <div>
            <label>Filtrar por Mes:</label>
            <select id="filtroMes" class="filter-select" onchange="actualizarGraficaMotivos()">
                <option value="TODOS">Todos los meses</option>
                <option value="MARZO">Marzo</option>
                <option value="ABRIL">Abril</option>
                <option value="MAYO">Mayo</option>
            </select>
        </div>
        
        <div>
            <label>Tipo de Gr√°fica:</label>
            <select id="tipoGrafica" class="filter-select" onchange="cambiarTipoGrafica()">
                <option value="bar">Gr√°fica de Barras</option>
                <option value="pie">Gr√°fica Circular</option>
            </select>
        </div>
    </div>
    
    <div class="chart-container">
        <canvas id="motivosRetiroChart"></canvas>
    </div>
    
    <div id="resumenMotivos" class="stats-grid">
        <!-- Esta secci√≥n se llenar√° din√°micamente con JavaScript -->
    </div>
    
    <div class="highlight">
        <strong>üéØ An√°lisis de Impacto:</strong> <span id="analisisMotivos">El retiro voluntario representa el motivo principal de rotaci√≥n en todas las sedes, seguido por causas justificadas. Se requiere profundizar en las causas de retiro voluntario para desarrollar estrategias de retenci√≥n m√°s efectivas.</span>
    </div>


        <!-- Footer -->
        <div class="footer">
            <div style="display: flex; align-items: center; justify-content: center; margin-bottom: 15px;">
    <img src="logo-onecontact.png" alt="ONE CONTACT - Grupo Migesa" 
         style="max-width: 80px; height: auto; margin-right: 15px;" />
    <h3 style="margin: 0; color: white;">ONE CONTACT INTERNACIONAL SAS</h3>
</div>
            <p>Presentaci√≥n realizada por: √Årea de Talento Humano</p>
            <p>Fecha: Mayo 2025 | D√≠a del Ni√±o 2025 - Resultados Consolidados</p>
        </div>
    </div>

    <script>
        // Configuraci√≥n global de Chart.js
        Chart.defaults.font.family = 'Arial';
        Chart.defaults.font.size = 14;

        // Gr√°fico 1: Satisfacci√≥n por Sede
        const ctx1 = document.getElementById('satisfaccionPorSede').getContext('2d');
        new Chart(ctx1, {
            type: 'bar',
            data: {
                labels: ['Barranquilla', 'Urab√°', 'Bogot√°', 'Medell√≠n'],
                datasets: [{
                    label: 'Satisfacci√≥n (1-5)',
                    data: [5.00, 4.67, 4.58, 4.56],
                    backgroundColor: [
                        'rgba(102, 126, 234, 0.8)',
                        'rgba(118, 75, 162, 0.8)',
                        'rgba(255, 154, 158, 0.8)',
                        'rgba(250, 208, 196, 0.8)'
                    ],
                    borderColor: [
                        'rgba(102, 126, 234, 1)',
                        'rgba(118, 75, 162, 1)',
                        'rgba(255, 154, 158, 1)',
                        'rgba(250, 208, 196, 1)'
                    ],
                    borderWidth: 2,
                    borderRadius: 8
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        display: false
                    },
                    title: {
                        display: true,
                        text: 'Promedio de Satisfacci√≥n por Sede'
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        max: 5,
                        ticks: {
                            stepSize: 0.5
                        }
                    }
                }
            }
        });

        // Gr√°fico 2: Distribuci√≥n Nacional
        const ctx2 = document.getElementById('distribucionNacional').getContext('2d');
        new Chart(ctx2, {
            type: 'doughnut',
            data: {
                labels: ['5 Estrellas (Excelente)', '4 Estrellas (Muy Bueno)'],
                datasets: [{
                    data: [42, 28],
                    backgroundColor: [
                        'rgba(102, 126, 234, 0.8)',
                        'rgba(118, 75, 162, 0.8)'
                    ],
                    borderColor: [
                        'rgba(102, 126, 234, 1)',
                        'rgba(118, 75, 162, 1)'
                    ],
                    borderWidth: 2
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'bottom'
                    },
                    title: {
                        display: true,
                        text: 'Distribuci√≥n de Calificaciones (70 participantes)'
                    }
                }
            }
        });

        // Gr√°fico 3: Participaci√≥n por Sede
        const ctx3 = document.getElementById('participacionPorSede').getContext('2d');
        new Chart(ctx3, {
            type: 'pie',
            data: {
                labels: ['Bogot√°', 'Medell√≠n', 'Urab√°', 'Barranquilla'],
                datasets: [{
                    data: [19, 16, 15, 4],
                    backgroundColor: [
                        'rgba(102, 126, 234, 0.8)',
                        'rgba(118, 75, 162, 0.8)',
                        'rgba(255, 154, 158, 0.8)',
                        'rgba(250, 208, 196, 0.8)'
                    ],
                    borderColor: [
                        'rgba(102, 126, 234, 1)',
                        'rgba(118, 75, 162, 1)',
                        'rgba(255, 154, 158, 1)',
                        'rgba(250, 208, 196, 1)'
                    ],
                    borderWidth: 2
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'right'
                    },
                    title: {
                        display: true,
                        text: 'Distribuci√≥n de Participantes por Sede'
                    }
                }
            }
        });

        // Gr√°fico 5: Presupuesto vs Participaci√≥n
        const ctx5 = document.getElementById('presupuestoVsParticipacion').getContext('2d');
        new Chart(ctx5, {
            type: 'bar',
            data: {
                labels: ['Urab√°', 'Medell√≠n', 'Bogot√°', 'Barranquilla'],
                datasets: [{
                    label: 'Presupuestado',
                    data: [23, 29, 31, 8],
                    backgroundColor: 'rgba(255, 154, 158, 0.6)',
                    borderColor: 'rgba(255, 154, 158, 1)',
                    borderWidth: 2
                }, {
                    label: 'Participaci√≥n Encuestas',
                    data: [15, 16, 19, 4],
                    backgroundColor: 'rgba(102, 126, 234, 0.8)',
                    borderColor: 'rgba(102, 126, 234, 1)',
                    borderWidth: 2
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    title: {
                        display: true,
                        text: 'Comparativo: Presupuesto vs Participaci√≥n en Encuestas por Sede'
                    },
                    legend: {
                        position: 'top'
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        ticks: {
                            stepSize: 5
                        }
                    }
                }
            }
        });

        // Gr√°fico 4: Comentarios por Sede
        const ctx4 = document.getElementById('comentariosPorSede').getContext('2d');
        new Chart(ctx4, {
            type: 'line',
            data: {
                labels: ['Bogot√°', 'Medell√≠n', 'Urab√°', 'Barranquilla'],
                datasets: [{
                    label: 'Comentarios Recibidos',
                    data: [6, 5, 6, 1],
                    backgroundColor: 'rgba(102, 126, 234, 0.2)',
                    borderColor: 'rgba(102, 126, 234, 1)',
                    borderWidth: 3,
                    pointBackgroundColor: 'rgba(118, 75, 162, 1)',
                    pointBorderColor: '#fff',
                    pointBorderWidth: 2,
                    pointRadius: 8,
                    tension: 0.4
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    title: {
                        display: true,
                        text: 'N√∫mero de Comentarios por Sede'
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        ticks: {
                            stepSize: 1
                        }
                    }
                }
            }
        });

        // Animaci√≥n para las barras de progreso
        window.addEventListener('load', function() {
            setTimeout(function() {
                const progressBars = document.querySelectorAll('.progress-fill');
                progressBars.forEach(bar => {
                    const width = bar.style.width;
                    bar.style.width = '0%';
                    setTimeout(() => {
                        bar.style.width = width;
                    }, 100);
                });
            }, 1000);
        });
    </script>
<script>
// Configuraci√≥n de colores
const COLORES = {
    BARRANQUILLA: '#2563eb',
    BOGOTA: '#dc2626',
    MEDELLIN: '#16a34a',
    URABA: '#ca8a04',
    VOLUNTARIO: '#3b82f6',
    'JUSTA CAUSA': '#ef4444',
    'SIN JUSTA CAUSA': '#8b5cf6',
    'PERIODO DE PRUEBA': '#f59e0b',
    'VENCIMIENTO DE CONTRATO': '#10b981'
};

// Datos para el gr√°fico de rotaci√≥n por sede
const dataRotacion = [
    {
        mes: 'Marzo',
        BARRANQL: 13,
        BOGOTA: 18,
        MEDELLIN: 9,
        URABA: 20
    },
    {
        mes: 'Abril',
        BARRANQL: 5,
        BOGOTA: 8,
        MEDELLIN: 13,
        URABA: 13
    },
    {
        mes: 'Mayo',
        BARRANQL: 13,
        BOGOTA: 5,
        MEDELLIN: 6,
        URABA: 5
    }
];

// Datos para motivos de retiro
const datosMotivosRetiro = [
    { mes: 'MARZO', ciudad: 'BARRANQUILLA', motivo: 'VOLUNTARIO', cantidad: 1 },
    { mes: 'MARZO', ciudad: 'BARRANQUILLA', motivo: 'JUSTA CAUSA', cantidad: 1 },
    { mes: 'MARZO', ciudad: 'BOGOTA', motivo: 'VOLUNTARIO', cantidad: 15 },
    { mes: 'MARZO', ciudad: 'BOGOTA', motivo: 'JUSTA CAUSA', cantidad: 8 },
    { mes: 'MARZO', ciudad: 'BOGOTA', motivo: 'SIN JUSTA CAUSA', cantidad: 4 },
    { mes: 'MARZO', ciudad: 'BOGOTA', motivo: 'PERIODO DE PRUEBA', cantidad: 3 },
    { mes: 'MARZO', ciudad: 'MEDELLIN', motivo: 'VOLUNTARIO', cantidad: 7 },
    { mes: 'MARZO', ciudad: 'MEDELLIN', motivo: 'JUSTA CAUSA', cantidad: 3 },
    { mes: 'MARZO', ciudad: 'MEDELLIN', motivo: 'SIN JUSTA CAUSA', cantidad: 2 },
    { mes: 'MARZO', ciudad: 'URABA', motivo: 'VOLUNTARIO', cantidad: 6 },
    { mes: 'MARZO', ciudad: 'URABA', motivo: 'JUSTA CAUSA', cantidad: 3 },
    { mes: 'MARZO', ciudad: 'URABA', motivo: 'PERIODO DE PRUEBA', cantidad: 2 },
    { mes: 'ABRIL', ciudad: 'BARRANQUILLA', motivo: 'VOLUNTARIO', cantidad: 1 },
    { mes: 'ABRIL', ciudad: 'BOGOTA', motivo: 'VOLUNTARIO', cantidad: 8 },
    { mes: 'ABRIL', ciudad: 'BOGOTA', motivo: 'JUSTA CAUSA', cantidad: 3 },
    { mes: 'ABRIL', ciudad: 'BOGOTA', motivo: 'VENCIMIENTO DE CONTRATO', cantidad: 2 },
    { mes: 'ABRIL', ciudad: 'BOGOTA', motivo: 'SIN JUSTA CAUSA', cantidad: 1 },
    { mes: 'ABRIL', ciudad: 'MEDELLIN', motivo: 'VOLUNTARIO', cantidad: 10 },
    { mes: 'ABRIL', ciudad: 'MEDELLIN', motivo: 'JUSTA CAUSA', cantidad: 5 },
    { mes: 'ABRIL', ciudad: 'MEDELLIN', motivo: 'PERIODO DE PRUEBA', cantidad: 3 },
    { mes: 'ABRIL', ciudad: 'URABA', motivo: 'VOLUNTARIO', cantidad: 4 },
    { mes: 'ABRIL', ciudad: 'URABA', motivo: 'PERIODO DE PRUEBA', cantidad: 2 },
    { mes: 'ABRIL', ciudad: 'URABA', motivo: 'JUSTA CAUSA', cantidad: 1 },
    { mes: 'MAYO', ciudad: 'BARRANQUILLA', motivo: 'VOLUNTARIO', cantidad: 2 },
    { mes: 'MAYO', ciudad: 'BARRANQUILLA', motivo: 'JUSTA CAUSA', cantidad: 1 },
    { mes: 'MAYO', ciudad: 'BOGOTA', motivo: 'VOLUNTARIO', cantidad: 5 },
    { mes: 'MAYO', ciudad: 'BOGOTA', motivo: 'JUSTA CAUSA', cantidad: 2 },
    { mes: 'MAYO', ciudad: 'BOGOTA', motivo: 'SIN JUSTA CAUSA', cantidad: 1 },
    { mes: 'MAYO', ciudad: 'BOGOTA', motivo: 'VENCIMIENTO DE CONTRATO', cantidad: 1 },
    { mes: 'MAYO', ciudad: 'MEDELLIN', motivo: 'VOLUNTARIO', cantidad: 4 },
    { mes: 'MAYO', ciudad: 'MEDELLIN', motivo: 'JUSTA CAUSA', cantidad: 3 },
    { mes: 'MAYO', ciudad: 'MEDELLIN', motivo: 'PERIODO DE PRUEBA', cantidad: 1 },
    { mes: 'MAYO', ciudad: 'URABA', motivo: 'VOLUNTARIO', cantidad: 2 },
    { mes: 'MAYO', ciudad: 'URABA', motivo: 'JUSTA CAUSA', cantidad: 1 }
];

// Crear gr√°fico de rotaci√≥n por sede
window.addEventListener('load', function() {
    // 1. Gr√°fico de Rotaci√≥n por Sede
    const ctxRotacion = document.getElementById('rotacionPorSede').getContext('2d');
    const chartRotacion = new Chart(ctxRotacion, {
        type: 'line',
        data: {
            labels: dataRotacion.map(d => d.mes),
            datasets: [
                {
                    label: 'Barranquilla',
                    data: dataRotacion.map(d => d.BARRANQL),
                    borderColor: COLORES.BARRANQUILLA,
                    backgroundColor: COLORES.BARRANQUILLA,
                    tension: 0.4,
                    pointStyle: 'circle',
                    pointRadius: 6,
                    pointHoverRadius: 8
                },
                {
                    label: 'Bogot√°',
                    data: dataRotacion.map(d => d.BOGOTA),
                    borderColor: COLORES.BOGOTA,
                    backgroundColor: COLORES.BOGOTA,
                    tension: 0.4,
                    pointStyle: 'circle',
                    pointRadius: 6,
                    pointHoverRadius: 8
                },
                {
                    label: 'Medell√≠n',
                    data: dataRotacion.map(d => d.MEDELLIN),
                    borderColor: COLORES.MEDELLIN,
                    backgroundColor: COLORES.MEDELLIN,
                    tension: 0.4,
                    pointStyle: 'circle',
                    pointRadius: 6,
                    pointHoverRadius: 8
                },
                {
                    label: 'Urab√°',
                    data: dataRotacion.map(d => d.URABA),
                    borderColor: COLORES.URABA,
                    backgroundColor: COLORES.URABA,
                    tension: 0.4,
                    pointStyle: 'circle',
                    pointRadius: 6,
                    pointHoverRadius: 8
                }
            ]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                title: {
                    display: true,
                    text: 'Evoluci√≥n de la Rotaci√≥n por Sede (%) - 2025',
                    font: {
                        size: 18
                    }
                },
                legend: {
                    position: 'top'
                },
                tooltip: {
                    mode: 'index',
                    intersect: false,
                    callbacks: {
                        label: function(context) {
                            return context.dataset.label + ': ' + context.raw + '%';
                        }
                    }
                }
            },
            scales: {
                y: {
                    beginAtZero: true,
                    title: {
                        display: true,
                        text: 'Porcentaje de Rotaci√≥n (%)'
                    },
                    ticks: {
                        callback: function(value) {
                            return value + '%';
                        }
                    }
                }
            },
            elements: {
                line: {
                    borderWidth: 3
                },
                point: {
                    borderWidth: 2,
                    backgroundColor: 'white'
                }
            }
        }
    });
    
    // Inicializar gr√°fica de motivos
    actualizarGraficaMotivos();
});

// Variables para el gr√°fico de motivos de retiro
let motivosChart;
let tipoGraficaActual = 'bar';

// Funci√≥n para filtrar datos de motivos de retiro
function filtrarDatosMotivos() {
    const sedeSeleccionada = document.getElementById('filtroSede').value;
    const mesSeleccionado = document.getElementById('filtroMes').value;
    
    let datosFiltrados = [...datosMotivosRetiro];
    
    if (sedeSeleccionada !== 'TODAS') {
        datosFiltrados = datosFiltrados.filter(d => d.ciudad === sedeSeleccionada);
    }
    
    if (mesSeleccionado !== 'TODOS') {
        datosFiltrados = datosFiltrados.filter(d => d.mes === mesSeleccionado);
    }
    
    // Agrupar por motivo y sumar cantidades
    const motivosAgrupados = {};
    datosFiltrados.forEach(item => {
        if (!motivosAgrupados[item.motivo]) {
            motivosAgrupados[item.motivo] = 0;
        }
        motivosAgrupados[item.motivo] += item.cantidad;
    });
    
    // Convertir a formato para gr√°fica y ordenar
    return Object.entries(motivosAgrupados)
        .map(([motivo, cantidad]) => ({ motivo, cantidad }))
        .sort((a, b) => b.cantidad - a.cantidad);
}

// Funci√≥n para actualizar el gr√°fico de motivos
function actualizarGraficaMotivos() {
    const datosMotivos = filtrarDatosMotivos();
    const sedeSeleccionada = document.getElementById('filtroSede').value;
    const mesSeleccionado = document.getElementById('filtroMes').value;
    
    // Destruir el gr√°fico anterior si existe
    if (motivosChart) {
        motivosChart.destroy();
    }
    
    // Crear el nuevo gr√°fico
    const ctx = document.getElementById('motivosRetiroChart').getContext('2d');
    
    if (tipoGraficaActual === 'bar') {
        motivosChart = new Chart(ctx, {
            type: 'bar',
            data: {
                labels: datosMotivos.map(d => d.motivo),
                datasets: [{
                    label: 'Cantidad',
                    data: datosMotivos.map(d => d.cantidad),
                    backgroundColor: datosMotivos.map(d => COLORES[d.motivo] || '#6b7280'),
                    borderColor: datosMotivos.map(d => COLORES[d.motivo] || '#6b7280'),
                    borderWidth: 1,
                    borderRadius: 6
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                indexAxis: 'y',
                plugins: {
                    title: {
                        display: true,
                        text: 'Motivos de Retiro' + 
                              (sedeSeleccionada !== 'TODAS' ? ' - ' + sedeSeleccionada : '') + 
                              (mesSeleccionado !== 'TODOS' ? ' - ' + mesSeleccionado : ''),
                        font: {
                            size: 18
                        }
                    },
                    legend: {
                        display: false
                    },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                const totalRetiros = datosMotivos.reduce((sum, item) => sum + item.cantidad, 0);
                                const porcentaje = ((context.raw / totalRetiros) * 100).toFixed(1);
                                return `${context.raw} retiros (${porcentaje}%)`;
                            }
                        }
                    }
                },
                scales: {
                    x: {
                        beginAtZero: true,
                        title: {
                            display: true,
                            text: 'Cantidad de Retiros'
                        }
                    }
                }
            }
        });
    } else {
        motivosChart = new Chart(ctx, {
            type: 'pie',
            data: {
                labels: datosMotivos.map(d => d.motivo),
                datasets: [{
                    data: datosMotivos.map(d => d.cantidad),
                    backgroundColor: datosMotivos.map(d => COLORES[d.motivo] || '#6b7280'),
                    borderColor: '#ffffff',
                    borderWidth: 2
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    title: {
                        display: true,
                        text: 'Motivos de Retiro' + 
                              (sedeSeleccionada !== 'TODAS' ? ' - ' + sedeSeleccionada : '') + 
                              (mesSeleccionado !== 'TODOS' ? ' - ' + mesSeleccionado : ''),
                        font: {
                            size: 18
                        }
                    },
                    legend: {
                        position: 'right'
                    },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                const totalRetiros = datosMotivos.reduce((sum, item) => sum + item.cantidad, 0);
                                const porcentaje = ((context.raw / totalRetiros) * 100).toFixed(1);
                                return `${context.raw} retiros (${porcentaje}%)`;
                            }
                        }
                    }
                }
            }
        });
    }
    
    // Actualizar las tarjetas de resumen
    actualizarResumenMotivos(datosMotivos);
    
    // Actualizar el an√°lisis
    actualizarAnalisisMotivos(datosMotivos, sedeSeleccionada, mesSeleccionado);
}

// Funci√≥n para cambiar el tipo de gr√°fica
function cambiarTipoGrafica() {
    tipoGraficaActual = document.getElementById('tipoGrafica').value;
    actualizarGraficaMotivos();
}

// Funci√≥n para actualizar el resumen de motivos
function actualizarResumenMotivos(datosMotivos) {
    const totalRetiros = datosMotivos.reduce((sum, item) => sum + item.cantidad, 0);
    const resumenContainer = document.getElementById('resumenMotivos');
    
    // Limpiar el contenedor
    resumenContainer.innerHTML = '';
    
    // A√±adir tarjetas para cada motivo
    datosMotivos.forEach(motivo => {
        const porcentaje = ((motivo.cantidad / totalRetiros) * 100).toFixed(1);
        
        const card = document.createElement('div');
        card.className = 'stat-card';
        card.style.background = `linear-gradient(135deg, ${COLORES[motivo.motivo] || '#6b7280'} 0%, ${adjustColor(COLORES[motivo.motivo] || '#6b7280', -30)} 100%)`;
        
        card.innerHTML = `
            <span class="stat-number">${motivo.cantidad}</span>
            <span class="stat-label">${motivo.motivo} (${porcentaje}%)</span>
        `;
        
        resumenContainer.appendChild(card);
    });
    
    // A√±adir tarjeta para el total
    const totalCard = document.createElement('div');
    totalCard.className = 'stat-card';
    totalCard.style.background = 'linear-gradient(135deg, #4b5563 0%, #1f2937 100%)';
    
    totalCard.innerHTML = `
        <span class="stat-number">${totalRetiros}</span>
        <span class="stat-label">Total de Retiros</span>
    `;
    
    resumenContainer.appendChild(totalCard);
}

// Funci√≥n para actualizar el an√°lisis de motivos
function actualizarAnalisisMotivos(datosMotivos, sedeSeleccionada, mesSeleccionado) {
    const analisisElement = document.getElementById('analisisMotivos');
    const totalRetiros = datosMotivos.reduce((sum, item) => sum + item.cantidad, 0);
    
    if (datosMotivos.length === 0) {
        analisisElement.textContent = 'No hay datos suficientes para realizar un an√°lisis con los filtros seleccionados.';
        return;
    }
    
    // Motivo principal
    const motivoPrincipal = datosMotivos[0];
    const porcentajePrincipal = ((motivoPrincipal.cantidad / totalRetiros) * 100).toFixed(1);
    
    // An√°lisis espec√≠fico seg√∫n filtros
    if (sedeSeleccionada !== 'TODAS' && mesSeleccionado !== 'TODOS') {
        analisisElement.textContent = `En ${sedeSeleccionada} durante ${mesSeleccionado.toLowerCase()}, el ${porcentajePrincipal}% de los retiros fueron por "${motivoPrincipal.motivo}". Se recomienda revisar los factores espec√≠ficos que contribuyen a esta situaci√≥n.`;
    } else if (sedeSeleccionada !== 'TODAS') {
        analisisElement.textContent = `En ${sedeSeleccionada}, el principal motivo de retiro es "${motivoPrincipal.motivo}" con un ${porcentajePrincipal}% del total. Esto sugiere la necesidad de estrategias de retenci√≥n espec√≠ficas para esta sede.`;
    } else if (mesSeleccionado !== 'TODOS') {
        analisisElement.textContent = `Durante ${mesSeleccionado.toLowerCase()}, el "${motivoPrincipal.motivo}" represent√≥ el ${porcentajePrincipal}% de todos los retiros. Este patr√≥n indica posibles factores temporales que deben ser investigados.`;
    } else {
        analisisElement.textContent = `A nivel nacional, el "${motivoPrincipal.motivo}" es el motivo principal de retiro (${porcentajePrincipal}%). Se recomienda implementar entrevistas de salida m√°s detalladas y programas de retenci√≥n enfocados en abordar este factor.`;
    }
}

// Funci√≥n para ajustar colores (oscurecer/aclarar)
function adjustColor(color, amount) {
    const clamp = (val) => Math.min(255, Math.max(0, val));
    
    // Convertir hex a rgb
    const hex = color.replace('#', '');
    const r = parseInt(hex.substring(0, 2), 16);
    const g = parseInt(hex.substring(2, 4), 16);
    const b = parseInt(hex.substring(4, 6), 16);
    
    // Ajustar valores
    const newR = clamp(r + amount);
    const newG = clamp(g + amount);
    const newB = clamp(b + amount);
    
    // Convertir de vuelta a hex
    return `#${newR.toString(16).padStart(2, '0')}${newG.toString(16).padStart(2, '0')}${newB.toString(16).padStart(2, '0')}`;
}
</script>
</body>
</html>
